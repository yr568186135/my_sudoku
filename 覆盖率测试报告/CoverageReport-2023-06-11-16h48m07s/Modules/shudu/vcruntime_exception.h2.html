<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>vcruntime_exception.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
//
// vcruntime_exception.h
//
//      Copyright (c) Microsoft Corporation. All rights reserved.
//
// &lt;exception&gt; functionality that is implemented in the VCRuntime.
//
#pragma once

#include &lt;eh.h&gt;

#ifdef _M_CEE_PURE
    #include &lt;vcruntime_new.h&gt;
#endif

#if _VCRT_COMPILER_PREPROCESSOR &amp;&amp; _HAS_EXCEPTIONS

#pragma warning(push)
#pragma warning(disable: _VCRUNTIME_DISABLED_WARNINGS)

#pragma pack(push, _CRT_PACKING)

_CRT_BEGIN_C_HEADER

struct __std_exception_data
{
    char const* _What;
    bool        _DoFree;
};

_VCRTIMP void __cdecl __std_exception_copy(
    _In_  __std_exception_data const* _From,
    _Out_ __std_exception_data*       _To
    );

_VCRTIMP void __cdecl __std_exception_destroy(
    _Inout_ __std_exception_data* _Data
    );

_CRT_END_C_HEADER



namespace std {

#pragma warning(push)
#pragma warning(disable: 4577) // 'noexcept' used with no exception handling mode specified
class exception
{
public:

    exception() noexcept
        : _Data()
    {
    }

    explicit exception(char const* const _Message) noexcept
        : _Data()
    {
        __std_exception_data _InitData = { _Message, true };
        __std_exception_copy(&amp;_InitData, &amp;_Data);
    }

    exception(char const* const _Message, int) noexcept
<span style = "background-color:#fdd">        : _Data()
    {
        _Data._What = _Message;
    }</span>

    exception(exception const&amp; _Other) noexcept
<span style = "background-color:#fdd">        : _Data()
    {
        __std_exception_copy(&amp;_Other._Data, &amp;_Data);
    }</span>

    exception&amp; operator=(exception const&amp; _Other) noexcept
    {
        if (this == &amp;_Other)
        {
            return *this;
        }

        __std_exception_destroy(&amp;_Data);
        __std_exception_copy(&amp;_Other._Data, &amp;_Data);
        return *this;
    }

    virtual ~exception() noexcept
<span style = "background-color:#fdd">    {
        __std_exception_destroy(&amp;_Data);
    }</span>

    _NODISCARD virtual char const* what() const
<span style = "background-color:#fdd">    {
        return _Data._What ? _Data._What : "Unknown exception";
    }</span>

private:

    __std_exception_data _Data;
};

class bad_exception
    : public exception
{
public:

    bad_exception() noexcept
        : exception("bad exception", 1)
    {
    }
};

class bad_alloc
    : public exception
{
public:

    bad_alloc() noexcept
        : exception("bad allocation", 1)
    {
    }

private:

    friend class bad_array_new_length;

    bad_alloc(char const* const _Message) noexcept
<span style = "background-color:#fdd">        : exception(_Message, 1)
    {
    }</span>
};

class bad_array_new_length
    : public bad_alloc
{
public:

    bad_array_new_length() noexcept
<span style = "background-color:#fdd">        : bad_alloc("bad array new length")
    {
    }</span>
};

#pragma warning(pop)

} // namespace std

#pragma pack(pop)

#pragma warning(pop) // _VCRUNTIME_DISABLED_WARNINGS
#endif // _VCRT_COMPILER_PREPROCESSOR &amp;&amp; _HAS_EXCEPTIONS</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>